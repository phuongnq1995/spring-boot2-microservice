<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Spring Boot Thymeleaf Hello World Example</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- Include Bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
      integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

</head>
<body>

	<nav class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Spring Boot</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Home</a></li>
					<li><a href="#about">About</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

		<div class="starter-template">
			<h1>Spring Boot Web Thymeleaf Example</h1>
			<h2>
				<span th:text="'Message: ' + ${message}"></span>
			</h2>
		</div>

	</div>
	<!-- /.container -->
	<div id="contents">
		<ul>
			<li style="list-style-type:none" v-for="employee in employees">
				<employee-card v-bind:employee="employee" v-bind:key="employee.id"></employee-card>
			</li>
		</ul>
	</div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
var getEmployeesUrl = "http://192.168.100.96:3333/employees";
</script>
<script type="text/x-template" id="template">
	<div class="employee">
		<div class="employee-body">
			<h6 class="employee-title">
				{{ employee.name }}
			</h6>
			<p class="employee-text">
				<div>
				Address name: {{ employee.address.name }}
				Address port: {{ employee.address.port }}
				</div>
			</p>
		</div>
	</div>
</script>
<script type="text/babel">
	Vue.component('employee-card', {
		props: ['employee'],
		template: '#template'
	});
	var app = new Vue({
		el: '#contents',
		data: {
			employees: []
		},
		created() {
			var that = this;
			axios.get(getEmployeesUrl, {
			})
			.then(function (response) {
				var result = response.data;
				for(var i in result){
					that.employees.push(result[i]);
				}
				console.log(response.data);
			})
			.catch(function (error) {
				console.log(error);
			});
		}
	});
</script>
</body>
</html>